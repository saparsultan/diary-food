import React, { useEffect, useState } from "react";
import { Link, useLocation } from "react-router-dom";
import { FAVORITES, LOGIN, RECIPES } from "../utils/consts";

const EmptyAdd = () => {
  const [isAuth, setIsAuth] = useState(false);
  const isAuthValue = localStorage.getItem("isAuth");
  const isAuthBooleanValue = JSON.parse(isAuthValue);

  useEffect(() => {
    setIsAuth(isAuthBooleanValue);
  }, [isAuthBooleanValue]);

  const { pathname } = useLocation();
  return (
    <div className="empty-diary">
      <svg
        width="140"
        height="140"
        viewBox="0 0 140 140"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M30.9619 125.417C28.0153 125.417 25.5212 124.396 23.4795 122.354C21.4378 120.313 20.417 117.818 20.417 114.872V36.7952C20.417 33.8486 21.4378 31.3545 23.4795 29.3128C25.5212 27.2712 28.0153 26.2503 30.9619 26.2503H39.0389V18.3976C39.0389 17.1189 39.4671 16.0513 40.3234 15.195C41.1796 14.3388 42.2472 13.9106 43.526 13.9106C44.8048 13.9106 45.8723 14.3388 46.7287 15.195C47.5849 16.0513 48.013 17.1189 48.013 18.3976V26.2503H92.2116V18.2855C92.2116 17.0441 92.6304 16.0046 93.468 15.167C94.3055 14.3294 95.3451 13.9106 96.5865 13.9106C97.8279 13.9106 98.8674 14.3294 99.705 15.167C100.543 16.0046 100.961 17.0441 100.961 18.2855V26.2503H109.038C111.985 26.2503 114.479 27.2712 116.521 29.3128C118.563 31.3545 119.583 33.8486 119.583 36.7952V69.5515H110.834V60.1286H29.1668V114.872C29.1668 115.395 29.3351 115.825 29.6717 116.162C30.0083 116.499 30.4384 116.667 30.9619 116.667H64.8396V125.417H30.9619ZM29.1668 51.3787H110.834V36.7952C110.834 36.2717 110.665 35.8416 110.329 35.5051C109.992 35.1685 109.562 35.0002 109.038 35.0002H30.9619C30.4384 35.0002 30.0083 35.1685 29.6717 35.5051C29.3351 35.8416 29.1668 36.2717 29.1668 36.7952V51.3787ZM123.678 95.6329L113.301 85.2565L117.53 81.0274C118.375 80.1822 119.4 79.7596 120.604 79.7596C121.808 79.7596 122.833 80.1822 123.678 81.0274L127.907 85.2565C128.752 86.1016 129.174 87.1261 129.174 88.3301C129.174 89.5341 128.752 90.5587 127.907 91.4037L123.678 95.6329ZM78.75 127.492V122.006C78.75 121.303 78.8772 120.634 79.1314 119.998C79.3856 119.363 79.7857 118.772 80.3317 118.226L109.218 89.3399L119.594 99.7162L90.7081 128.602C90.1622 129.148 89.5714 129.549 88.9358 129.803C88.3 130.057 87.6307 130.184 86.9278 130.184H81.4423C80.7019 130.184 80.0681 129.921 79.5409 129.393C79.0137 128.866 78.75 128.232 78.75 127.492Z"
          fill="#DBF1E7"
        />
      </svg>
      <div className="empty-diary__text">
        {pathname === FAVORITES
          ? "Ваш список понравившихся рецептов"
          : "Дневник питания на этот день и время дня для приема пищи"}{" "}
        пуст
      </div>
      {isAuth ? (
        <Link to={RECIPES} className="btn btn--add empty-diary__btn">
          <span>Добавить</span>
        </Link>
      ) : (
        <Link to={LOGIN} className="btn btn--add empty-diary__btn">
          <span>Войти</span>
        </Link>
      )}
      {!isAuth && (
        <div className="empty-diary__auth">
          <svg
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M12.0003 13.0769C12.2129 13.0769 12.391 13.005 12.5346 12.8613C12.6782 12.7175 12.75 12.5394 12.75 12.3269V7.80188C12.75 7.59548 12.6781 7.42305 12.5343 7.2846C12.3904 7.14613 12.2122 7.0769 11.9997 7.0769C11.7871 7.0769 11.609 7.14878 11.4654 7.29253C11.3218 7.43628 11.25 7.61439 11.25 7.82688V12.3519C11.25 12.5583 11.3219 12.7308 11.4657 12.8692C11.6095 13.0077 11.7877 13.0769 12.0003 13.0769ZM12 16.7307C12.2288 16.7307 12.4207 16.6533 12.5755 16.4985C12.7303 16.3437 12.8077 16.1519 12.8077 15.9231C12.8077 15.6942 12.7303 15.5024 12.5755 15.3476C12.4207 15.1928 12.2288 15.1154 12 15.1154C11.7711 15.1154 11.5793 15.1928 11.4245 15.3476C11.2697 15.5024 11.1923 15.6942 11.1923 15.9231C11.1923 16.1519 11.2697 16.3437 11.4245 16.4985C11.5793 16.6533 11.7711 16.7307 12 16.7307ZM12 21.5C10.6807 21.5 9.44325 21.2519 8.2875 20.7557C7.13173 20.2596 6.12628 19.5839 5.27115 18.7288C4.41603 17.8737 3.7404 16.8682 3.24425 15.7125C2.74808 14.5567 2.5 13.3192 2.5 12C2.5 10.6807 2.74808 9.44325 3.24425 8.2875C3.7404 7.13173 4.41603 6.12628 5.27115 5.27115C6.12628 4.41603 7.13173 3.7404 8.2875 3.24425C9.44325 2.74808 10.6807 2.5 12 2.5C13.3192 2.5 14.5567 2.74808 15.7125 3.24425C16.8682 3.7404 17.8737 4.41603 18.7288 5.27115C19.5839 6.12628 20.2596 7.13173 20.7557 8.2875C21.2519 9.44325 21.5 10.6807 21.5 12C21.5 13.3192 21.2519 14.5567 20.7557 15.7125C20.2596 16.8682 19.5839 17.8737 18.7288 18.7288C17.8737 19.5839 16.8682 20.2596 15.7125 20.7557C14.5567 21.2519 13.3192 21.5 12 21.5Z"
              fill="#FF4C4D"
              fillOpacity="0.64"
            />
          </svg>
          <span>
            Вам необходимо войти, чтобы{" "}
            {pathname === FAVORITES ? "сохранять рецепты" : "добавлять рецпеты"}
          </span>
        </div>
      )}
    </div>
  );
};

export default EmptyAdd;
